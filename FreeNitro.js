(function(swcHelpers,entities,metro,utils){'use strict';function _interopNamespace(e){if(e&&e.__esModule)return e;var n=Object.create(null);if(e){Object.keys(e).forEach(function(k){if(k!=='default'){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})}n["default"]=e;return Object.freeze(n)}var swcHelpers__namespace=/*#__PURE__*/_interopNamespace(swcHelpers);var[{getEmojiURL},usability,{getChannel},Messages]=[metro.getByProps("getEmojiURL"),metro.getByProps("canUseEmojisEverywhere","canUseAnimatedEmojis"),metro.getByProps("getChannel"),metro.getByProps("receiveMessage","sendMessage"),];var FreeNitro=function(Plugin1){swcHelpers__namespace.inherits(FreeNitro,Plugin1);var _super=swcHelpers__namespace.createSuper(FreeNitro);function FreeNitro(){swcHelpers__namespace.classCallCheck(this,FreeNitro);return _super.apply(this,arguments)}var _proto=FreeNitro.prototype;_proto.start=function start(){utils.Patcher.after(usability,"canUseEmojisEverywhere",()=>true);utils.Patcher.after(usability,"canUseAnimatedEmojis",()=>true);utils.Patcher.before(Messages,"sendMessage",(_,[channelId,message])=>{var channel=getChannel(channelId);message.validNonShortcutEmojis.forEach((e,i)=>{if(e.guildId!==channel.guildId){e.size=24;message.content=message.content.replace(`<${e.animated?"a":""}:${e.name}:${e.id}>`,getEmojiURL(e).replace("webp","png"));delete message.validNonShortcutEmojis[i];}});message.validNonShortcutEmojis=message.validNonShortcutEmojis.filter(e=>e);});};return FreeNitro}(swcHelpers__namespace.wrapNativeSuper(entities.Plugin));return FreeNitro;})(swcHelpers,globalThis._globals.aliucord.entities,globalThis._globals.aliucord.metro,globalThis._globals.aliucord.utils);